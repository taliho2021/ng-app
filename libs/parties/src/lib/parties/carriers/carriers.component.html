<div class="container">
  <h1>Carriers</h1>
  <mat-card
    fxLayout="row"
    fxLayoutAlign="space-around center"
    style="background-color: lightblue"
  >
    <mat-card-header>
      <mat-card-title> {{ cust }} </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <p>Open Amt: {{ openAmt | currency }}</p>
      <p>Overdue Amt: {{ overDue | currency }}</p>
      <p>Credit Limit: {{ crLimit | currency }}</p>
    </mat-card-content>
  </mat-card>
  <br />
  <form [formGroup]="importerForm" novalidate (ngSubmit)="onSubmit()">
    <div fxLayout="row" fxLayoutAlign="space-around start">
      <mat-card fxFlex="30">
        <mat-card-header>
          <mat-card-title>Address Information</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="row">
            <mat-form-field class="full-width" appearance="fill">
              <mat-label>Client ID</mat-label>
              <input
                matInput
                placeholder="Client ID"
                formControlName="clientId"
              />
            </mat-form-field>
          </div>

          <div class="row">
            <mat-form-field class="full-width" appearance="fill">
              <mat-label>Company Name</mat-label>
              <input
                matInput
                placeholder="Company name"
                formControlName="name"
              />
              <mat-error
                *ngIf="importerForm.controls['name'].hasError('required')"
              >
                Company name is <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </div>

          <div class="row">
            <mat-form-field class="full-width" appearance="fill">
              <mat-label>Address Line 1</mat-label>
              <input
                matInput
                placeholder="Address Line 1"
                formControlName="address1"
              />
              <mat-error
                *ngIf="importerForm.controls['address1'].hasError('required')"
              >
                Address Line 1 is <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </div>

          <div class="row" *ngIf="!hasUnitNumber">
            <button
              mat-button
              type="button"
              (click)="hasUnitNumber = !hasUnitNumber"
            >
              + Add C/O, Apt, Suite, Unit
            </button>
          </div>

          <div class="row" *ngIf="hasUnitNumber">
            <mat-form-field class="full-width" appearance="fill">
              <mat-label>Address Line 2</mat-label>
              <textarea
                matInput
                placeholder="Address 2"
                formControlName="address2"
              ></textarea>
            </mat-form-field>
          </div>

          <div class="row">
            <mat-form-field class="full-width" appearance="fill">
              <mat-label>City</mat-label>
              <input matInput placeholder="City" formControlName="city" />
              <mat-error
                *ngIf="importerForm.controls['city'].hasError('required')"
              >
                City is <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </div>

          <div class="row">
            <mat-form-field class="full-width col-6" appearance="fill">
              <mat-label>State</mat-label>
              <mat-select placeholder="State" formControlName="state">
                <mat-option
                  *ngFor="let state of states"
                  [value]="state.abbreviation"
                >
                  {{ state.name }}
                </mat-option>
              </mat-select>
              <mat-error
                *ngIf="importerForm.controls['state'].hasError('required')"
              >
                State is <strong>required</strong>
              </mat-error>
            </mat-form-field>

            <mat-form-field class="full-width col-6" appearance="fill">
              <mat-label>Zip Code</mat-label>
              <input
                matInput
                #postalCode
                maxlength="5"
                placeholder="Postal Code"
                type="number"
                formControlName="postalCode"
              />
              <mat-hint align="end">{{ postalCode.value.length }} / 5</mat-hint>
            </mat-form-field>
          </div>

          <div class="row">
            <mat-form-field class="full-width" appearance="fill">
              <mat-label>Country</mat-label>
              <input
                matInput
                placeholder="Country Name"
                type="text"
                formControlName="country"
              />
            </mat-form-field>
          </div>

          <div class="row">
            <mat-form-field class="full-width" appearance="fill">
              <mat-label>Phone 1</mat-label>
              <input
                matInput
                placeholder="Telephone #"
                type="number"
                formControlName="phone1"
              />
            </mat-form-field>

            <mat-form-field class="full-width" appearance="fill">
              <mat-label>Email 1</mat-label>
              <input
                matInput
                placeholder="EMail"
                type="email"
                formControlName="email"
              />
            </mat-form-field>

            <mat-form-field class="full-width" appearance="fill">
              <mat-label>Website Addr:</mat-label>
              <input
                matInput
                placeholder="Website"
                type="text"
                formControlName="website"
              />
            </mat-form-field>
          </div>
        </mat-card-content>
      </mat-card>

      <mat-card fxFlex="30">
        <mat-card-header>
          <mat-card-title>Tax & Bond Information</mat-card-title>
        </mat-card-header>

        <mat-card-content>
          <div formGroupName="bond">
            <div class="row">
              <mat-form-field class="full-width" appearance="fill">
                <mat-label>Effective Date</mat-label>
                <input
                  matInput
                  placeholder="Effective Date"
                  formControlName="effectiveDate"
                />
              </mat-form-field>
            </div>

            <div class="row">
              <mat-form-field class="full-width" appearance="fill">
                <mat-label>Bond No.</mat-label>
                <input
                  matInput
                  placeholder="Bond Number"
                  formControlName="bondNo"
                />
              </mat-form-field>
            </div>

            <div class="row">
              <mat-form-field class="full-width" appearance="fill">
                <mat-label>Amount of bond</mat-label>
                <input
                  matInput
                  placeholder="Bond Amount"
                  formControlName="amount"
                />
              </mat-form-field>
            </div>

            <div class="row">
              <mat-form-field class="full-width" appearance="fill">
                <mat-label>Surety Code</mat-label>
                <input
                  matInput
                  placeholder="Surety Code"
                  formControlName="suretyCode"
                />
              </mat-form-field>
            </div>

            <div class="row">
              <mat-form-field class="full-width" appearance="fill">
                <mat-label>Port Filed</mat-label>
                <input
                  matInput
                  placeholder="Port Filed"
                  formControlName="portFiled"
                />
              </mat-form-field>

              <mat-form-field class="full-width" appearance="fill">
                <mat-label>Bond Holder Name</mat-label>
                <input
                  matInput
                  placeholder="Bond Holder Name"
                  formControlName="holderName"
                />
              </mat-form-field>
            </div>
          </div>
        </mat-card-content>
      </mat-card>

      <mat-card fxFlex="30">
        <mat-card-header>
          <mat-card-title>Other Information</mat-card-title>
        </mat-card-header>

        <mat-card-content>
          <div class="row">
            <mat-form-field class="full-width" appearance="fill">
              <input
                matInput
                placeholder="Client ID"
                formControlName="clientId"
              />
            </mat-form-field>
          </div>

          <div class="row">
            <mat-form-field class="full-width" appearance="fill">
              <input
                matInput
                placeholder="Company name"
                formControlName="name"
              />
              <mat-error
                *ngIf="importerForm.controls['name'].hasError('required')"
              >
                Company name is <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </div>

          <div class="row">
            <mat-form-field class="full-width" appearance="fill">
              <input
                matInput
                placeholder="Address Line 1"
                formControlName="address1"
              />
              <mat-error
                *ngIf="importerForm.controls['address1'].hasError('required')"
              >
                Address Line 1 is <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </div>

          <div class="row" *ngIf="!hasUnitNumber">
            <button
              mat-button
              type="button"
              (click)="hasUnitNumber = !hasUnitNumber"
            >
              + Add C/O, Apt, Suite, Unit
            </button>
          </div>

          <div class="row" *ngIf="hasUnitNumber">
            <mat-form-field class="full-width" appearance="fill">
              <textarea
                matInput
                placeholder="Address 2"
                formControlName="address2"
              ></textarea>
            </mat-form-field>
          </div>

          <div class="row">
            <mat-form-field class="full-width" appearance="fill">
              <input matInput placeholder="City" formControlName="city" />
              <mat-error
                *ngIf="importerForm.controls['city'].hasError('required')"
              >
                City is <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </div>

          <div class="row">
            <mat-form-field class="full-width" appearance="fill">
              <mat-select placeholder="State" formControlName="state">
                <mat-option
                  *ngFor="let state of states"
                  [value]="state.abbreviation"
                >
                  {{ state.name }}
                </mat-option>
              </mat-select>
              <mat-error
                *ngIf="importerForm.controls['state'].hasError('required')"
              >
                State is <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </div>

          <div class="row">
            <mat-form-field class="full-width" appearance="fill">
              <input
                matInput
                #postalCode
                maxlength="5"
                placeholder="Postal Code"
                type="number"
                formControlName="postalCode"
              />
              <mat-hint align="end">{{ postalCode.value.length }} / 5</mat-hint>
            </mat-form-field>

            <mat-form-field class="full-width" appearance="fill">
              <input
                matInput
                placeholder="Country Name"
                type="text"
                formControlName="country"
              />
            </mat-form-field>
          </div>

          <div class="row">
            <mat-form-field class="full-width" appearance="fill">
              <input
                matInput
                placeholder="Telephone #"
                type="number"
                formControlName="phone1"
              />
            </mat-form-field>

            <mat-form-field class="full-width" appearance="fill">
              <input
                matInput
                placeholder="EMail"
                type="email"
                formControlName="email"
              />
            </mat-form-field>

            <mat-form-field class="full-width" appearance="fill">
              <input
                matInput
                placeholder="Website"
                type="text"
                formControlName="website"
              />
            </mat-form-field>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </form>

  <p>Form Value: {{ importerForm.value | json }}</p>

  <button type="button" class="btn btn-primary" (click)="onSubmit()">
    Get Importers
  </button>
</div>
